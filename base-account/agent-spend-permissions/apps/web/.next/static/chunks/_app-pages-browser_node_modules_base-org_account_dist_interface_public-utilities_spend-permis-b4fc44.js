"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_base-org_account_dist_interface_public-utilities_spend-permis-b4fc44"],{

/***/ "(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/index.js":
/*!******************************************************************************************************!*\
  !*** ../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/index.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchPermissions: function() { return /* reexport safe */ _methods_fetchPermissions_js__WEBPACK_IMPORTED_MODULE_0__.fetchPermissions; },\n/* harmony export */   getHash: function() { return /* reexport safe */ _methods_getHash_js__WEBPACK_IMPORTED_MODULE_1__.getHash; },\n/* harmony export */   getPermissionStatus: function() { return /* reexport safe */ _methods_getPermissionStatus_js__WEBPACK_IMPORTED_MODULE_2__.getPermissionStatus; },\n/* harmony export */   prepareRevokeCallData: function() { return /* reexport safe */ _methods_prepareRevokeCallData_js__WEBPACK_IMPORTED_MODULE_3__.prepareRevokeCallData; },\n/* harmony export */   prepareSpendCallData: function() { return /* reexport safe */ _methods_prepareSpendCallData_js__WEBPACK_IMPORTED_MODULE_4__.prepareSpendCallData; },\n/* harmony export */   requestRevoke: function() { return /* reexport safe */ _methods_requestRevoke_js__WEBPACK_IMPORTED_MODULE_5__.requestRevoke; },\n/* harmony export */   requestSpendPermission: function() { return /* reexport safe */ _methods_requestSpendPermission_js__WEBPACK_IMPORTED_MODULE_6__.requestSpendPermission; }\n/* harmony export */ });\n/* harmony import */ var _methods_fetchPermissions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./methods/fetchPermissions.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/fetchPermissions.js\");\n/* harmony import */ var _methods_getHash_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./methods/getHash.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/getHash.js\");\n/* harmony import */ var _methods_getPermissionStatus_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./methods/getPermissionStatus.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/getPermissionStatus.js\");\n/* harmony import */ var _methods_prepareRevokeCallData_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./methods/prepareRevokeCallData.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/prepareRevokeCallData.js\");\n/* harmony import */ var _methods_prepareSpendCallData_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./methods/prepareSpendCallData.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/prepareSpendCallData.js\");\n/* harmony import */ var _methods_requestRevoke_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./methods/requestRevoke.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/requestRevoke.js\");\n/* harmony import */ var _methods_requestSpendPermission_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./methods/requestSpendPermission.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/requestSpendPermission.js\");\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvQGJhc2Utb3JnL2FjY291bnQvZGlzdC9pbnRlcmZhY2UvcHVibGljLXV0aWxpdGllcy9zcGVuZC1wZXJtaXNzaW9uL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ1Q7QUFDWTtBQUNFO0FBQ0Q7QUFDUDtBQUNTO0FBQ3BEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9ub2RlX21vZHVsZXMvQGJhc2Utb3JnL2FjY291bnQvZGlzdC9pbnRlcmZhY2UvcHVibGljLXV0aWxpdGllcy9zcGVuZC1wZXJtaXNzaW9uL2luZGV4LmpzPzgyYzgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9tZXRob2RzL2ZldGNoUGVybWlzc2lvbnMuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tZXRob2RzL2dldEhhc2guanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tZXRob2RzL2dldFBlcm1pc3Npb25TdGF0dXMuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tZXRob2RzL3ByZXBhcmVSZXZva2VDYWxsRGF0YS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL21ldGhvZHMvcHJlcGFyZVNwZW5kQ2FsbERhdGEuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tZXRob2RzL3JlcXVlc3RSZXZva2UuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tZXRob2RzL3JlcXVlc3RTcGVuZFBlcm1pc3Npb24uanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/fetchPermissions.js":
/*!*************************************************************************************************************************!*\
  !*** ../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/fetchPermissions.js ***!
  \*************************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchPermissions: function() { return /* binding */ fetchPermissions; }\n/* harmony export */ });\n/* harmony import */ var _withTelemetry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../withTelemetry.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/withTelemetry.js\");\n\n/**\n * Fetches existing spend permissions for a specific account, spender, and chain.\n *\n * This helper method retrieves all spend permissions that have been granted by a specific\n * account to a specific spender on a given chain. This is useful for checking existing\n * permissions before creating new ones, or for displaying current allowances to users.\n *\n * The method uses the coinbase_fetchPermissions RPC method to query the permissions\n * from the backend service.\n *\n * @param params - The parameters for the fetchPermissions method.\n * @param params.provider - The provider interface used to make the coinbase_fetchPermissions request.\n * @param params.account - The account to fetch permissions for.\n * @param params.chainId - The chain ID to fetch permissions for.\n * @param params.spender - The spender to fetch permissions for.\n *\n * @returns A promise that resolves to an array of SpendPermission objects.\n *\n * @example\n * ```typescript\n * import { fetchPermissions } from '@base-org/account/spend-permission';\n *\n * // Fetch all permissions for an account-spender pair\n * const permissions = await fetchPermissions({\n *   provider, // Base Account Provider\n *   account: '0x1234...',\n *   spender: '0x5678...',\n *   chainId: 8453 // Base mainnet\n * });\n *\n * console.log(`Found ${permissions.length} permissions`);\n * permissions.forEach(permission => {\n *   console.log(`Token: ${permission.permission.token}`);\n * });\n * ```\n */\nconst fetchPermissionsFn = async ({ provider, account, chainId, spender, }) => {\n    const response = (await provider.request({\n        method: 'coinbase_fetchPermissions',\n        params: [\n            {\n                account,\n                chainId: `0x${chainId.toString(16)}`,\n                spender,\n            },\n        ],\n    }));\n    return response.permissions;\n};\nconst fetchPermissions = (0,_withTelemetry_js__WEBPACK_IMPORTED_MODULE_0__.withTelemetry)(fetchPermissionsFn);\n//# sourceMappingURL=fetchPermissions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvQGJhc2Utb3JnL2FjY291bnQvZGlzdC9pbnRlcmZhY2UvcHVibGljLXV0aWxpdGllcy9zcGVuZC1wZXJtaXNzaW9uL21ldGhvZHMvZmV0Y2hQZXJtaXNzaW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0EsMkJBQTJCLDRCQUE0QjtBQUN2RCxJQUFJO0FBQ0o7QUFDQTtBQUNBLG9DQUFvQyxzQ0FBc0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixxQkFBcUI7QUFDbkQ7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPLHlCQUF5QixnRUFBYTtBQUM3QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL0BiYXNlLW9yZy9hY2NvdW50L2Rpc3QvaW50ZXJmYWNlL3B1YmxpYy11dGlsaXRpZXMvc3BlbmQtcGVybWlzc2lvbi9tZXRob2RzL2ZldGNoUGVybWlzc2lvbnMuanM/MzMzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3aXRoVGVsZW1ldHJ5IH0gZnJvbSAnLi4vd2l0aFRlbGVtZXRyeS5qcyc7XG4vKipcbiAqIEZldGNoZXMgZXhpc3Rpbmcgc3BlbmQgcGVybWlzc2lvbnMgZm9yIGEgc3BlY2lmaWMgYWNjb3VudCwgc3BlbmRlciwgYW5kIGNoYWluLlxuICpcbiAqIFRoaXMgaGVscGVyIG1ldGhvZCByZXRyaWV2ZXMgYWxsIHNwZW5kIHBlcm1pc3Npb25zIHRoYXQgaGF2ZSBiZWVuIGdyYW50ZWQgYnkgYSBzcGVjaWZpY1xuICogYWNjb3VudCB0byBhIHNwZWNpZmljIHNwZW5kZXIgb24gYSBnaXZlbiBjaGFpbi4gVGhpcyBpcyB1c2VmdWwgZm9yIGNoZWNraW5nIGV4aXN0aW5nXG4gKiBwZXJtaXNzaW9ucyBiZWZvcmUgY3JlYXRpbmcgbmV3IG9uZXMsIG9yIGZvciBkaXNwbGF5aW5nIGN1cnJlbnQgYWxsb3dhbmNlcyB0byB1c2Vycy5cbiAqXG4gKiBUaGUgbWV0aG9kIHVzZXMgdGhlIGNvaW5iYXNlX2ZldGNoUGVybWlzc2lvbnMgUlBDIG1ldGhvZCB0byBxdWVyeSB0aGUgcGVybWlzc2lvbnNcbiAqIGZyb20gdGhlIGJhY2tlbmQgc2VydmljZS5cbiAqXG4gKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSBmZXRjaFBlcm1pc3Npb25zIG1ldGhvZC5cbiAqIEBwYXJhbSBwYXJhbXMucHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgaW50ZXJmYWNlIHVzZWQgdG8gbWFrZSB0aGUgY29pbmJhc2VfZmV0Y2hQZXJtaXNzaW9ucyByZXF1ZXN0LlxuICogQHBhcmFtIHBhcmFtcy5hY2NvdW50IC0gVGhlIGFjY291bnQgdG8gZmV0Y2ggcGVybWlzc2lvbnMgZm9yLlxuICogQHBhcmFtIHBhcmFtcy5jaGFpbklkIC0gVGhlIGNoYWluIElEIHRvIGZldGNoIHBlcm1pc3Npb25zIGZvci5cbiAqIEBwYXJhbSBwYXJhbXMuc3BlbmRlciAtIFRoZSBzcGVuZGVyIHRvIGZldGNoIHBlcm1pc3Npb25zIGZvci5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBTcGVuZFBlcm1pc3Npb24gb2JqZWN0cy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgZmV0Y2hQZXJtaXNzaW9ucyB9IGZyb20gJ0BiYXNlLW9yZy9hY2NvdW50L3NwZW5kLXBlcm1pc3Npb24nO1xuICpcbiAqIC8vIEZldGNoIGFsbCBwZXJtaXNzaW9ucyBmb3IgYW4gYWNjb3VudC1zcGVuZGVyIHBhaXJcbiAqIGNvbnN0IHBlcm1pc3Npb25zID0gYXdhaXQgZmV0Y2hQZXJtaXNzaW9ucyh7XG4gKiAgIHByb3ZpZGVyLCAvLyBCYXNlIEFjY291bnQgUHJvdmlkZXJcbiAqICAgYWNjb3VudDogJzB4MTIzNC4uLicsXG4gKiAgIHNwZW5kZXI6ICcweDU2NzguLi4nLFxuICogICBjaGFpbklkOiA4NDUzIC8vIEJhc2UgbWFpbm5ldFxuICogfSk7XG4gKlxuICogY29uc29sZS5sb2coYEZvdW5kICR7cGVybWlzc2lvbnMubGVuZ3RofSBwZXJtaXNzaW9uc2ApO1xuICogcGVybWlzc2lvbnMuZm9yRWFjaChwZXJtaXNzaW9uID0+IHtcbiAqICAgY29uc29sZS5sb2coYFRva2VuOiAke3Blcm1pc3Npb24ucGVybWlzc2lvbi50b2tlbn1gKTtcbiAqIH0pO1xuICogYGBgXG4gKi9cbmNvbnN0IGZldGNoUGVybWlzc2lvbnNGbiA9IGFzeW5jICh7IHByb3ZpZGVyLCBhY2NvdW50LCBjaGFpbklkLCBzcGVuZGVyLCB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSAoYXdhaXQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ2NvaW5iYXNlX2ZldGNoUGVybWlzc2lvbnMnLFxuICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY2NvdW50LFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IGAweCR7Y2hhaW5JZC50b1N0cmluZygxNil9YCxcbiAgICAgICAgICAgICAgICBzcGVuZGVyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnBlcm1pc3Npb25zO1xufTtcbmV4cG9ydCBjb25zdCBmZXRjaFBlcm1pc3Npb25zID0gd2l0aFRlbGVtZXRyeShmZXRjaFBlcm1pc3Npb25zRm4pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2hQZXJtaXNzaW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/fetchPermissions.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/getPermissionStatus.js":
/*!****************************************************************************************************************************!*\
  !*** ../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/getPermissionStatus.js ***!
  \****************************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPermissionStatus: function() { return /* binding */ getPermissionStatus; }\n/* harmony export */ });\n/* harmony import */ var _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../sign/base-account/utils/constants.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/sign/base-account/utils/constants.js\");\n/* harmony import */ var _store_chain_clients_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../store/chain-clients/utils.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/store/chain-clients/utils.js\");\n/* harmony import */ var viem_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem/actions */ \"(app-pages-browser)/../../node_modules/viem/_esm/actions/public/readContract.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/utils.js\");\n/* harmony import */ var _withTelemetry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../withTelemetry.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/withTelemetry.js\");\n\n\n\n\n\n/**\n * Gets the current status of a spend permission.\n *\n * This helper method queries the blockchain to retrieve real-time information\n * about a spend permission, including how much can still be spent in the current\n * period, when the next period starts, and whether the permission is still active.\n *\n * The function automatically uses the appropriate blockchain client based on the\n * permission's chain ID and calls multiple view functions on the SpendPermissionManager\n * contract to gather comprehensive status information.\n *\n * When the spend permission does not have a chainId, the function will throw an error.\n *\n * @param permission - The spend permission object to check status for.\n *\n * @returns A promise that resolves to an object containing permission status details.\n *\n * @example\n * ```typescript\n * import { getPermissionStatus } from '@base-org/account/spend-permission';\n *\n * // Check the status of a permission (no client needed)\n * const status = await getPermissionStatus(permission);\n *\n * console.log(`Remaining spend: ${status.remainingSpend} wei`);\n * console.log(`Next period starts: ${new Date(parseInt(status.nextPeriodStart) * 1000)}`);\n * console.log(`Is active: ${status.isActive}`);\n *\n * if (status.isActive && status.remainingSpend > BigInt(0)) {\n *   console.log('Permission can be used for spending');\n * }\n * ```\n */\nconst getPermissionStatusFn = async (permission) => {\n    const { chainId } = permission;\n    if (!chainId) {\n        throw new Error('chainId is missing in the spend permission');\n    }\n    const client = (0,_store_chain_clients_utils_js__WEBPACK_IMPORTED_MODULE_0__.getClient)(chainId);\n    if (!client) {\n        throw new Error(`No client available for chain ID ${chainId}. Make sure the SDK is in connected state.`);\n    }\n    const spendPermissionArgs = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toSpendPermissionArgs)(permission);\n    const [currentPeriod, isRevoked, isValid] = await Promise.all([\n        (0,viem_actions__WEBPACK_IMPORTED_MODULE_2__.readContract)(client, {\n            address: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAddress,\n            abi: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAbi,\n            functionName: 'getCurrentPeriod',\n            args: [spendPermissionArgs],\n        }),\n        (0,viem_actions__WEBPACK_IMPORTED_MODULE_2__.readContract)(client, {\n            address: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAddress,\n            abi: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAbi,\n            functionName: 'isRevoked',\n            args: [spendPermissionArgs],\n        }),\n        (0,viem_actions__WEBPACK_IMPORTED_MODULE_2__.readContract)(client, {\n            address: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAddress,\n            abi: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAbi,\n            functionName: 'isValid',\n            args: [spendPermissionArgs],\n        }),\n    ]);\n    // Calculate remaining spend in current period\n    const allowance = BigInt(permission.permission.allowance);\n    const spent = currentPeriod.spend;\n    const remainingSpend = allowance > spent ? allowance - spent : BigInt(0);\n    // Calculate next period start\n    // Next period starts immediately after current period ends\n    const nextPeriodStart = (Number(currentPeriod.end) + 1).toString();\n    // Permission is active if it's not revoked and is still valid\n    const isActive = !isRevoked && isValid;\n    return {\n        remainingSpend,\n        nextPeriodStart: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.timestampInSecondsToDate)(Number(nextPeriodStart)),\n        isActive,\n    };\n};\nconst getPermissionStatus = (0,_withTelemetry_js__WEBPACK_IMPORTED_MODULE_4__.withTelemetry)(getPermissionStatusFn);\n//# sourceMappingURL=getPermissionStatus.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvQGJhc2Utb3JnL2FjY291bnQvZGlzdC9pbnRlcmZhY2UvcHVibGljLXV0aWxpdGllcy9zcGVuZC1wZXJtaXNzaW9uL21ldGhvZHMvZ2V0UGVybWlzc2lvblN0YXR1cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNkg7QUFDeEQ7QUFDekI7QUFDa0M7QUFDMUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNCQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx1QkFBdUI7QUFDMUQsc0NBQXNDLGtEQUFrRDtBQUN4Riw2QkFBNkIsZ0JBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3RUFBUztBQUM1QjtBQUNBLDREQUE0RCxRQUFRO0FBQ3BFO0FBQ0EsZ0NBQWdDLGdFQUFxQjtBQUNyRDtBQUNBLFFBQVEsMERBQVk7QUFDcEIscUJBQXFCLGdHQUE2QjtBQUNsRCxpQkFBaUIsNEZBQXlCO0FBQzFDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSwwREFBWTtBQUNwQixxQkFBcUIsZ0dBQTZCO0FBQ2xELGlCQUFpQiw0RkFBeUI7QUFDMUM7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDBEQUFZO0FBQ3BCLHFCQUFxQixnR0FBNkI7QUFDbEQsaUJBQWlCLDRGQUF5QjtBQUMxQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtRUFBd0I7QUFDakQ7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLGdFQUFhO0FBQ2hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi9ub2RlX21vZHVsZXMvQGJhc2Utb3JnL2FjY291bnQvZGlzdC9pbnRlcmZhY2UvcHVibGljLXV0aWxpdGllcy9zcGVuZC1wZXJtaXNzaW9uL21ldGhvZHMvZ2V0UGVybWlzc2lvblN0YXR1cy5qcz83MjYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNwZW5kUGVybWlzc2lvbk1hbmFnZXJBYmksIHNwZW5kUGVybWlzc2lvbk1hbmFnZXJBZGRyZXNzLCB9IGZyb20gJy4uLy4uLy4uLy4uL3NpZ24vYmFzZS1hY2NvdW50L3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBnZXRDbGllbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9jaGFpbi1jbGllbnRzL3V0aWxzLmpzJztcbmltcG9ydCB7IHJlYWRDb250cmFjdCB9IGZyb20gJ3ZpZW0vYWN0aW9ucyc7XG5pbXBvcnQgeyB0aW1lc3RhbXBJblNlY29uZHNUb0RhdGUsIHRvU3BlbmRQZXJtaXNzaW9uQXJncyB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IHdpdGhUZWxlbWV0cnkgfSBmcm9tICcuLi93aXRoVGVsZW1ldHJ5LmpzJztcbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBzdGF0dXMgb2YgYSBzcGVuZCBwZXJtaXNzaW9uLlxuICpcbiAqIFRoaXMgaGVscGVyIG1ldGhvZCBxdWVyaWVzIHRoZSBibG9ja2NoYWluIHRvIHJldHJpZXZlIHJlYWwtdGltZSBpbmZvcm1hdGlvblxuICogYWJvdXQgYSBzcGVuZCBwZXJtaXNzaW9uLCBpbmNsdWRpbmcgaG93IG11Y2ggY2FuIHN0aWxsIGJlIHNwZW50IGluIHRoZSBjdXJyZW50XG4gKiBwZXJpb2QsIHdoZW4gdGhlIG5leHQgcGVyaW9kIHN0YXJ0cywgYW5kIHdoZXRoZXIgdGhlIHBlcm1pc3Npb24gaXMgc3RpbGwgYWN0aXZlLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBhdXRvbWF0aWNhbGx5IHVzZXMgdGhlIGFwcHJvcHJpYXRlIGJsb2NrY2hhaW4gY2xpZW50IGJhc2VkIG9uIHRoZVxuICogcGVybWlzc2lvbidzIGNoYWluIElEIGFuZCBjYWxscyBtdWx0aXBsZSB2aWV3IGZ1bmN0aW9ucyBvbiB0aGUgU3BlbmRQZXJtaXNzaW9uTWFuYWdlclxuICogY29udHJhY3QgdG8gZ2F0aGVyIGNvbXByZWhlbnNpdmUgc3RhdHVzIGluZm9ybWF0aW9uLlxuICpcbiAqIFdoZW4gdGhlIHNwZW5kIHBlcm1pc3Npb24gZG9lcyBub3QgaGF2ZSBhIGNoYWluSWQsIHRoZSBmdW5jdGlvbiB3aWxsIHRocm93IGFuIGVycm9yLlxuICpcbiAqIEBwYXJhbSBwZXJtaXNzaW9uIC0gVGhlIHNwZW5kIHBlcm1pc3Npb24gb2JqZWN0IHRvIGNoZWNrIHN0YXR1cyBmb3IuXG4gKlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gb2JqZWN0IGNvbnRhaW5pbmcgcGVybWlzc2lvbiBzdGF0dXMgZGV0YWlscy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgZ2V0UGVybWlzc2lvblN0YXR1cyB9IGZyb20gJ0BiYXNlLW9yZy9hY2NvdW50L3NwZW5kLXBlcm1pc3Npb24nO1xuICpcbiAqIC8vIENoZWNrIHRoZSBzdGF0dXMgb2YgYSBwZXJtaXNzaW9uIChubyBjbGllbnQgbmVlZGVkKVxuICogY29uc3Qgc3RhdHVzID0gYXdhaXQgZ2V0UGVybWlzc2lvblN0YXR1cyhwZXJtaXNzaW9uKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhgUmVtYWluaW5nIHNwZW5kOiAke3N0YXR1cy5yZW1haW5pbmdTcGVuZH0gd2VpYCk7XG4gKiBjb25zb2xlLmxvZyhgTmV4dCBwZXJpb2Qgc3RhcnRzOiAke25ldyBEYXRlKHBhcnNlSW50KHN0YXR1cy5uZXh0UGVyaW9kU3RhcnQpICogMTAwMCl9YCk7XG4gKiBjb25zb2xlLmxvZyhgSXMgYWN0aXZlOiAke3N0YXR1cy5pc0FjdGl2ZX1gKTtcbiAqXG4gKiBpZiAoc3RhdHVzLmlzQWN0aXZlICYmIHN0YXR1cy5yZW1haW5pbmdTcGVuZCA+IEJpZ0ludCgwKSkge1xuICogICBjb25zb2xlLmxvZygnUGVybWlzc2lvbiBjYW4gYmUgdXNlZCBmb3Igc3BlbmRpbmcnKTtcbiAqIH1cbiAqIGBgYFxuICovXG5jb25zdCBnZXRQZXJtaXNzaW9uU3RhdHVzRm4gPSBhc3luYyAocGVybWlzc2lvbikgPT4ge1xuICAgIGNvbnN0IHsgY2hhaW5JZCB9ID0gcGVybWlzc2lvbjtcbiAgICBpZiAoIWNoYWluSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjaGFpbklkIGlzIG1pc3NpbmcgaW4gdGhlIHNwZW5kIHBlcm1pc3Npb24nKTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50KGNoYWluSWQpO1xuICAgIGlmICghY2xpZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY2xpZW50IGF2YWlsYWJsZSBmb3IgY2hhaW4gSUQgJHtjaGFpbklkfS4gTWFrZSBzdXJlIHRoZSBTREsgaXMgaW4gY29ubmVjdGVkIHN0YXRlLmApO1xuICAgIH1cbiAgICBjb25zdCBzcGVuZFBlcm1pc3Npb25BcmdzID0gdG9TcGVuZFBlcm1pc3Npb25BcmdzKHBlcm1pc3Npb24pO1xuICAgIGNvbnN0IFtjdXJyZW50UGVyaW9kLCBpc1Jldm9rZWQsIGlzVmFsaWRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICByZWFkQ29udHJhY3QoY2xpZW50LCB7XG4gICAgICAgICAgICBhZGRyZXNzOiBzcGVuZFBlcm1pc3Npb25NYW5hZ2VyQWRkcmVzcyxcbiAgICAgICAgICAgIGFiaTogc3BlbmRQZXJtaXNzaW9uTWFuYWdlckFiaSxcbiAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ2dldEN1cnJlbnRQZXJpb2QnLFxuICAgICAgICAgICAgYXJnczogW3NwZW5kUGVybWlzc2lvbkFyZ3NdLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVhZENvbnRyYWN0KGNsaWVudCwge1xuICAgICAgICAgICAgYWRkcmVzczogc3BlbmRQZXJtaXNzaW9uTWFuYWdlckFkZHJlc3MsXG4gICAgICAgICAgICBhYmk6IHNwZW5kUGVybWlzc2lvbk1hbmFnZXJBYmksXG4gICAgICAgICAgICBmdW5jdGlvbk5hbWU6ICdpc1Jldm9rZWQnLFxuICAgICAgICAgICAgYXJnczogW3NwZW5kUGVybWlzc2lvbkFyZ3NdLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVhZENvbnRyYWN0KGNsaWVudCwge1xuICAgICAgICAgICAgYWRkcmVzczogc3BlbmRQZXJtaXNzaW9uTWFuYWdlckFkZHJlc3MsXG4gICAgICAgICAgICBhYmk6IHNwZW5kUGVybWlzc2lvbk1hbmFnZXJBYmksXG4gICAgICAgICAgICBmdW5jdGlvbk5hbWU6ICdpc1ZhbGlkJyxcbiAgICAgICAgICAgIGFyZ3M6IFtzcGVuZFBlcm1pc3Npb25BcmdzXSxcbiAgICAgICAgfSksXG4gICAgXSk7XG4gICAgLy8gQ2FsY3VsYXRlIHJlbWFpbmluZyBzcGVuZCBpbiBjdXJyZW50IHBlcmlvZFxuICAgIGNvbnN0IGFsbG93YW5jZSA9IEJpZ0ludChwZXJtaXNzaW9uLnBlcm1pc3Npb24uYWxsb3dhbmNlKTtcbiAgICBjb25zdCBzcGVudCA9IGN1cnJlbnRQZXJpb2Quc3BlbmQ7XG4gICAgY29uc3QgcmVtYWluaW5nU3BlbmQgPSBhbGxvd2FuY2UgPiBzcGVudCA/IGFsbG93YW5jZSAtIHNwZW50IDogQmlnSW50KDApO1xuICAgIC8vIENhbGN1bGF0ZSBuZXh0IHBlcmlvZCBzdGFydFxuICAgIC8vIE5leHQgcGVyaW9kIHN0YXJ0cyBpbW1lZGlhdGVseSBhZnRlciBjdXJyZW50IHBlcmlvZCBlbmRzXG4gICAgY29uc3QgbmV4dFBlcmlvZFN0YXJ0ID0gKE51bWJlcihjdXJyZW50UGVyaW9kLmVuZCkgKyAxKS50b1N0cmluZygpO1xuICAgIC8vIFBlcm1pc3Npb24gaXMgYWN0aXZlIGlmIGl0J3Mgbm90IHJldm9rZWQgYW5kIGlzIHN0aWxsIHZhbGlkXG4gICAgY29uc3QgaXNBY3RpdmUgPSAhaXNSZXZva2VkICYmIGlzVmFsaWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVtYWluaW5nU3BlbmQsXG4gICAgICAgIG5leHRQZXJpb2RTdGFydDogdGltZXN0YW1wSW5TZWNvbmRzVG9EYXRlKE51bWJlcihuZXh0UGVyaW9kU3RhcnQpKSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgZ2V0UGVybWlzc2lvblN0YXR1cyA9IHdpdGhUZWxlbWV0cnkoZ2V0UGVybWlzc2lvblN0YXR1c0ZuKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFBlcm1pc3Npb25TdGF0dXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/getPermissionStatus.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/prepareRevokeCallData.js":
/*!******************************************************************************************************************************!*\
  !*** ../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/prepareRevokeCallData.js ***!
  \******************************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prepareRevokeCallData: function() { return /* binding */ prepareRevokeCallData; }\n/* harmony export */ });\n/* harmony import */ var _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../sign/base-account/utils/constants.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/sign/base-account/utils/constants.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/../../node_modules/viem/_esm/utils/abi/encodeFunctionData.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/utils.js\");\n/* harmony import */ var _withTelemetry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../withTelemetry.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/withTelemetry.js\");\n\n\n\n\n/**\n * Prepares call data for revoking a spend permission without user interaction.\n *\n * This helper method generates the encoded transaction data needed to revoke a spend\n * permission silently, without opening a popup or requiring user approval. This is\n * useful for automated or programmatic revocations where user interaction is not desired.\n *\n * The returned call data can be used with other transaction methods or batch operations.\n *\n * If you need simpler revoke flow, use `requestRevoke` instead, which opens a popup to ask\n * the user to revoke the permission.\n *\n * @param permission - The spend permission object containing the permission details to revoke.\n *\n * @returns A promise that resolves to an object containing the contract address and encoded call data.\n *\n * @example\n * ```typescript\n * import { prepareRevokeCallData } from '@base-org/account/spend-permission';\n *\n * // Prepare revoke call data for silent execution\n * const { to, data } = await prepareRevokeCallData({ permission: myPermission });\n *\n * // Use the call data in a batch transaction or other context\n * const call = {\n *   to,\n *   data,\n *   value: '0x0'\n * };\n * ```\n */\nconst prepareRevokeCallDataFn = async (permission) => {\n    const spendPermissionArgs = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSpendPermissionArgs)(permission);\n    const data = (0,viem__WEBPACK_IMPORTED_MODULE_1__.encodeFunctionData)({\n        abi: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_2__.spendPermissionManagerAbi,\n        functionName: 'revokeAsSpender',\n        args: [spendPermissionArgs],\n    });\n    const response = {\n        to: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_2__.spendPermissionManagerAddress,\n        data,\n        value: '0x0', // explicitly set to 0x0\n    };\n    return response;\n};\nconst prepareRevokeCallData = (0,_withTelemetry_js__WEBPACK_IMPORTED_MODULE_3__.withTelemetry)(prepareRevokeCallDataFn);\n//# sourceMappingURL=prepareRevokeCallData.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvQGJhc2Utb3JnL2FjY291bnQvZGlzdC9pbnRlcmZhY2UvcHVibGljLXV0aWxpdGllcy9zcGVuZC1wZXJtaXNzaW9uL21ldGhvZHMvcHJlcGFyZVJldm9rZUNhbGxEYXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTZIO0FBQ25GO0FBQ1U7QUFDQTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdCQUF3QjtBQUNwQztBQUNBO0FBQ0EsV0FBVyxXQUFXLGdDQUFnQywwQkFBMEI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0VBQXFCO0FBQ3JELGlCQUFpQix3REFBa0I7QUFDbkMsYUFBYSw0RkFBeUI7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFlBQVksZ0dBQTZCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsZ0VBQWE7QUFDbEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFzZS1vcmcvYWNjb3VudC9kaXN0L2ludGVyZmFjZS9wdWJsaWMtdXRpbGl0aWVzL3NwZW5kLXBlcm1pc3Npb24vbWV0aG9kcy9wcmVwYXJlUmV2b2tlQ2FsbERhdGEuanM/YTQ1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcGVuZFBlcm1pc3Npb25NYW5hZ2VyQWJpLCBzcGVuZFBlcm1pc3Npb25NYW5hZ2VyQWRkcmVzcywgfSBmcm9tICcuLi8uLi8uLi8uLi9zaWduL2Jhc2UtYWNjb3VudC91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgZW5jb2RlRnVuY3Rpb25EYXRhIH0gZnJvbSAndmllbSc7XG5pbXBvcnQgeyB0b1NwZW5kUGVybWlzc2lvbkFyZ3MgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyB3aXRoVGVsZW1ldHJ5IH0gZnJvbSAnLi4vd2l0aFRlbGVtZXRyeS5qcyc7XG4vKipcbiAqIFByZXBhcmVzIGNhbGwgZGF0YSBmb3IgcmV2b2tpbmcgYSBzcGVuZCBwZXJtaXNzaW9uIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbi5cbiAqXG4gKiBUaGlzIGhlbHBlciBtZXRob2QgZ2VuZXJhdGVzIHRoZSBlbmNvZGVkIHRyYW5zYWN0aW9uIGRhdGEgbmVlZGVkIHRvIHJldm9rZSBhIHNwZW5kXG4gKiBwZXJtaXNzaW9uIHNpbGVudGx5LCB3aXRob3V0IG9wZW5pbmcgYSBwb3B1cCBvciByZXF1aXJpbmcgdXNlciBhcHByb3ZhbC4gVGhpcyBpc1xuICogdXNlZnVsIGZvciBhdXRvbWF0ZWQgb3IgcHJvZ3JhbW1hdGljIHJldm9jYXRpb25zIHdoZXJlIHVzZXIgaW50ZXJhY3Rpb24gaXMgbm90IGRlc2lyZWQuXG4gKlxuICogVGhlIHJldHVybmVkIGNhbGwgZGF0YSBjYW4gYmUgdXNlZCB3aXRoIG90aGVyIHRyYW5zYWN0aW9uIG1ldGhvZHMgb3IgYmF0Y2ggb3BlcmF0aW9ucy5cbiAqXG4gKiBJZiB5b3UgbmVlZCBzaW1wbGVyIHJldm9rZSBmbG93LCB1c2UgYHJlcXVlc3RSZXZva2VgIGluc3RlYWQsIHdoaWNoIG9wZW5zIGEgcG9wdXAgdG8gYXNrXG4gKiB0aGUgdXNlciB0byByZXZva2UgdGhlIHBlcm1pc3Npb24uXG4gKlxuICogQHBhcmFtIHBlcm1pc3Npb24gLSBUaGUgc3BlbmQgcGVybWlzc2lvbiBvYmplY3QgY29udGFpbmluZyB0aGUgcGVybWlzc2lvbiBkZXRhaWxzIHRvIHJldm9rZS5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgY29udHJhY3QgYWRkcmVzcyBhbmQgZW5jb2RlZCBjYWxsIGRhdGEuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IHByZXBhcmVSZXZva2VDYWxsRGF0YSB9IGZyb20gJ0BiYXNlLW9yZy9hY2NvdW50L3NwZW5kLXBlcm1pc3Npb24nO1xuICpcbiAqIC8vIFByZXBhcmUgcmV2b2tlIGNhbGwgZGF0YSBmb3Igc2lsZW50IGV4ZWN1dGlvblxuICogY29uc3QgeyB0bywgZGF0YSB9ID0gYXdhaXQgcHJlcGFyZVJldm9rZUNhbGxEYXRhKHsgcGVybWlzc2lvbjogbXlQZXJtaXNzaW9uIH0pO1xuICpcbiAqIC8vIFVzZSB0aGUgY2FsbCBkYXRhIGluIGEgYmF0Y2ggdHJhbnNhY3Rpb24gb3Igb3RoZXIgY29udGV4dFxuICogY29uc3QgY2FsbCA9IHtcbiAqICAgdG8sXG4gKiAgIGRhdGEsXG4gKiAgIHZhbHVlOiAnMHgwJ1xuICogfTtcbiAqIGBgYFxuICovXG5jb25zdCBwcmVwYXJlUmV2b2tlQ2FsbERhdGFGbiA9IGFzeW5jIChwZXJtaXNzaW9uKSA9PiB7XG4gICAgY29uc3Qgc3BlbmRQZXJtaXNzaW9uQXJncyA9IHRvU3BlbmRQZXJtaXNzaW9uQXJncyhwZXJtaXNzaW9uKTtcbiAgICBjb25zdCBkYXRhID0gZW5jb2RlRnVuY3Rpb25EYXRhKHtcbiAgICAgICAgYWJpOiBzcGVuZFBlcm1pc3Npb25NYW5hZ2VyQWJpLFxuICAgICAgICBmdW5jdGlvbk5hbWU6ICdyZXZva2VBc1NwZW5kZXInLFxuICAgICAgICBhcmdzOiBbc3BlbmRQZXJtaXNzaW9uQXJnc10sXG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHRvOiBzcGVuZFBlcm1pc3Npb25NYW5hZ2VyQWRkcmVzcyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgdmFsdWU6ICcweDAnLCAvLyBleHBsaWNpdGx5IHNldCB0byAweDBcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5leHBvcnQgY29uc3QgcHJlcGFyZVJldm9rZUNhbGxEYXRhID0gd2l0aFRlbGVtZXRyeShwcmVwYXJlUmV2b2tlQ2FsbERhdGFGbik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVwYXJlUmV2b2tlQ2FsbERhdGEuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/prepareRevokeCallData.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/prepareSpendCallData.js":
/*!*****************************************************************************************************************************!*\
  !*** ../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/prepareSpendCallData.js ***!
  \*****************************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prepareSpendCallData: function() { return /* binding */ prepareSpendCallData; }\n/* harmony export */ });\n/* harmony import */ var _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../sign/base-account/utils/constants.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/sign/base-account/utils/constants.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/../../node_modules/viem/_esm/utils/abi/encodeFunctionData.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/utils.js\");\n/* harmony import */ var _withTelemetry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../withTelemetry.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/withTelemetry.js\");\n/* harmony import */ var _getPermissionStatus_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getPermissionStatus.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/getPermissionStatus.js\");\n\n\n\n\n\n/**\n * Prepares call data for approving and spending a spend permission.\n *\n * This helper method constructs the call data for `approveWithSignature`\n * and `spend` functions. The approve call is only included when the permission\n * is not yet active. If the permission is already approved, only the spend call is returned.\n *\n * When 'max-remaining-allowance' is provided as the amount, the function automatically uses all remaining\n * spend permission allowance.\n *\n * The resulting call data must be sent using the spender account, not the\n * account holder. The spender is responsible for executing both the approval\n * and spend operations.\n *\n * @param permission - The spend permission object containing the permission details and signature.\n * @param amount - The amount to spend in wei. If 'max-remaining-allowance' is provided, the full remaining allowance will be spent.\n *\n * @returns A promise that resolves to an array containing all the necessary calls.\n *\n * @example\n * ```typescript\n * import { prepareSpendCallData } from '@base-org/account/spend-permission';\n *\n * // Prepare calls to approve and spend a specific amount from a permission\n * const spendCalls = await prepareSpendCallData(\n *   permission, // from requestSpendPermission or fetchPermissions\n *   50n * 10n ** 6n // spend 50 USDC (6 decimals)\n * );\n *\n * // To spend all remaining allowance, use 'max-remaining-allowance'\n * const callsFullAmount = await prepareSpendCallData(\n *   permission,\n *   'max-remaining-allowance'\n * );\n *\n * // Send the calls using your app's spender account\n * // this is an example of how to send the calls using the wallet_sendCalls method\n * await provider.request({\n *   method: 'wallet_sendCalls',\n *   params: [{\n *     version: '2.0.0',\n *     atomicRequired: true,\n *     from: permission.permission.spender, // Must be the spender!\n *     chainId: `0x${permission.chainId?.toString(16)}`,\n *     calls: spendCalls,\n *   }],\n * });\n *\n * // Or send the calls using eth_sendTransaction to submit both calls in exact order\n * const promises = spendCalls.map((call) => provider.request({\n *   method: 'eth_sendTransaction',\n *   params: [\n *     {\n *       ...call,\n *       from: permission.permission.spender, // Must be the spender!\n *     }\n *   ]\n * }))\n *\n * await Promise.all(promises);\n * ```\n */\nconst prepareSpendCallDataFn = async (permission, amount) => {\n    const { remainingSpend, isActive } = await (0,_getPermissionStatus_js__WEBPACK_IMPORTED_MODULE_0__.getPermissionStatus)(permission);\n    const spendAmount = amount === 'max-remaining-allowance' ? remainingSpend : amount;\n    if (spendAmount === BigInt(0)) {\n        throw new Error('Spend amount cannot be 0');\n    }\n    if (spendAmount > remainingSpend) {\n        throw new Error('Remaining spend amount is insufficient');\n    }\n    let approveCall = null;\n    const spendPermissionArgs = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.toSpendPermissionArgs)(permission);\n    if (!isActive) {\n        const approveData = (0,viem__WEBPACK_IMPORTED_MODULE_2__.encodeFunctionData)({\n            abi: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAbi,\n            functionName: 'approveWithSignature',\n            args: [spendPermissionArgs, permission.signature],\n        });\n        approveCall = {\n            to: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAddress,\n            data: approveData,\n            value: '0x0', // explicitly set to 0x0\n        };\n    }\n    const spendData = (0,viem__WEBPACK_IMPORTED_MODULE_2__.encodeFunctionData)({\n        abi: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAbi,\n        functionName: 'spend',\n        args: [spendPermissionArgs, spendAmount],\n    });\n    const spendCall = {\n        to: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_3__.spendPermissionManagerAddress,\n        data: spendData,\n        value: '0x0', // explicitly set to 0x0\n    };\n    return [approveCall, spendCall].filter((item) => item !== null);\n};\nconst prepareSpendCallData = (0,_withTelemetry_js__WEBPACK_IMPORTED_MODULE_4__.withTelemetry)(prepareSpendCallDataFn);\n//# sourceMappingURL=prepareSpendCallData.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvQGJhc2Utb3JnL2FjY291bnQvZGlzdC9pbnRlcmZhY2UvcHVibGljLXV0aWxpdGllcy9zcGVuZC1wZXJtaXNzaW9uL21ldGhvZHMvcHJlcGFyZVNwZW5kQ2FsbERhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTZIO0FBQ25GO0FBQ1U7QUFDQTtBQUNXO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpQ0FBaUM7QUFDdEQ7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQixRQUFRLDRFQUFtQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdFQUFxQjtBQUNyRDtBQUNBLDRCQUE0Qix3REFBa0I7QUFDOUMsaUJBQWlCLDRGQUF5QjtBQUMxQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsZ0JBQWdCLGdHQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3REFBa0I7QUFDeEMsYUFBYSw0RkFBeUI7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFlBQVksZ0dBQTZCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkIsZ0VBQWE7QUFDakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFzZS1vcmcvYWNjb3VudC9kaXN0L2ludGVyZmFjZS9wdWJsaWMtdXRpbGl0aWVzL3NwZW5kLXBlcm1pc3Npb24vbWV0aG9kcy9wcmVwYXJlU3BlbmRDYWxsRGF0YS5qcz9kYjNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNwZW5kUGVybWlzc2lvbk1hbmFnZXJBYmksIHNwZW5kUGVybWlzc2lvbk1hbmFnZXJBZGRyZXNzLCB9IGZyb20gJy4uLy4uLy4uLy4uL3NpZ24vYmFzZS1hY2NvdW50L3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBlbmNvZGVGdW5jdGlvbkRhdGEgfSBmcm9tICd2aWVtJztcbmltcG9ydCB7IHRvU3BlbmRQZXJtaXNzaW9uQXJncyB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IHdpdGhUZWxlbWV0cnkgfSBmcm9tICcuLi93aXRoVGVsZW1ldHJ5LmpzJztcbmltcG9ydCB7IGdldFBlcm1pc3Npb25TdGF0dXMgfSBmcm9tICcuL2dldFBlcm1pc3Npb25TdGF0dXMuanMnO1xuLyoqXG4gKiBQcmVwYXJlcyBjYWxsIGRhdGEgZm9yIGFwcHJvdmluZyBhbmQgc3BlbmRpbmcgYSBzcGVuZCBwZXJtaXNzaW9uLlxuICpcbiAqIFRoaXMgaGVscGVyIG1ldGhvZCBjb25zdHJ1Y3RzIHRoZSBjYWxsIGRhdGEgZm9yIGBhcHByb3ZlV2l0aFNpZ25hdHVyZWBcbiAqIGFuZCBgc3BlbmRgIGZ1bmN0aW9ucy4gVGhlIGFwcHJvdmUgY2FsbCBpcyBvbmx5IGluY2x1ZGVkIHdoZW4gdGhlIHBlcm1pc3Npb25cbiAqIGlzIG5vdCB5ZXQgYWN0aXZlLiBJZiB0aGUgcGVybWlzc2lvbiBpcyBhbHJlYWR5IGFwcHJvdmVkLCBvbmx5IHRoZSBzcGVuZCBjYWxsIGlzIHJldHVybmVkLlxuICpcbiAqIFdoZW4gJ21heC1yZW1haW5pbmctYWxsb3dhbmNlJyBpcyBwcm92aWRlZCBhcyB0aGUgYW1vdW50LCB0aGUgZnVuY3Rpb24gYXV0b21hdGljYWxseSB1c2VzIGFsbCByZW1haW5pbmdcbiAqIHNwZW5kIHBlcm1pc3Npb24gYWxsb3dhbmNlLlxuICpcbiAqIFRoZSByZXN1bHRpbmcgY2FsbCBkYXRhIG11c3QgYmUgc2VudCB1c2luZyB0aGUgc3BlbmRlciBhY2NvdW50LCBub3QgdGhlXG4gKiBhY2NvdW50IGhvbGRlci4gVGhlIHNwZW5kZXIgaXMgcmVzcG9uc2libGUgZm9yIGV4ZWN1dGluZyBib3RoIHRoZSBhcHByb3ZhbFxuICogYW5kIHNwZW5kIG9wZXJhdGlvbnMuXG4gKlxuICogQHBhcmFtIHBlcm1pc3Npb24gLSBUaGUgc3BlbmQgcGVybWlzc2lvbiBvYmplY3QgY29udGFpbmluZyB0aGUgcGVybWlzc2lvbiBkZXRhaWxzIGFuZCBzaWduYXR1cmUuXG4gKiBAcGFyYW0gYW1vdW50IC0gVGhlIGFtb3VudCB0byBzcGVuZCBpbiB3ZWkuIElmICdtYXgtcmVtYWluaW5nLWFsbG93YW5jZScgaXMgcHJvdmlkZWQsIHRoZSBmdWxsIHJlbWFpbmluZyBhbGxvd2FuY2Ugd2lsbCBiZSBzcGVudC5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IGNhbGxzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBwcmVwYXJlU3BlbmRDYWxsRGF0YSB9IGZyb20gJ0BiYXNlLW9yZy9hY2NvdW50L3NwZW5kLXBlcm1pc3Npb24nO1xuICpcbiAqIC8vIFByZXBhcmUgY2FsbHMgdG8gYXBwcm92ZSBhbmQgc3BlbmQgYSBzcGVjaWZpYyBhbW91bnQgZnJvbSBhIHBlcm1pc3Npb25cbiAqIGNvbnN0IHNwZW5kQ2FsbHMgPSBhd2FpdCBwcmVwYXJlU3BlbmRDYWxsRGF0YShcbiAqICAgcGVybWlzc2lvbiwgLy8gZnJvbSByZXF1ZXN0U3BlbmRQZXJtaXNzaW9uIG9yIGZldGNoUGVybWlzc2lvbnNcbiAqICAgNTBuICogMTBuICoqIDZuIC8vIHNwZW5kIDUwIFVTREMgKDYgZGVjaW1hbHMpXG4gKiApO1xuICpcbiAqIC8vIFRvIHNwZW5kIGFsbCByZW1haW5pbmcgYWxsb3dhbmNlLCB1c2UgJ21heC1yZW1haW5pbmctYWxsb3dhbmNlJ1xuICogY29uc3QgY2FsbHNGdWxsQW1vdW50ID0gYXdhaXQgcHJlcGFyZVNwZW5kQ2FsbERhdGEoXG4gKiAgIHBlcm1pc3Npb24sXG4gKiAgICdtYXgtcmVtYWluaW5nLWFsbG93YW5jZSdcbiAqICk7XG4gKlxuICogLy8gU2VuZCB0aGUgY2FsbHMgdXNpbmcgeW91ciBhcHAncyBzcGVuZGVyIGFjY291bnRcbiAqIC8vIHRoaXMgaXMgYW4gZXhhbXBsZSBvZiBob3cgdG8gc2VuZCB0aGUgY2FsbHMgdXNpbmcgdGhlIHdhbGxldF9zZW5kQ2FsbHMgbWV0aG9kXG4gKiBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAqICAgbWV0aG9kOiAnd2FsbGV0X3NlbmRDYWxscycsXG4gKiAgIHBhcmFtczogW3tcbiAqICAgICB2ZXJzaW9uOiAnMi4wLjAnLFxuICogICAgIGF0b21pY1JlcXVpcmVkOiB0cnVlLFxuICogICAgIGZyb206IHBlcm1pc3Npb24ucGVybWlzc2lvbi5zcGVuZGVyLCAvLyBNdXN0IGJlIHRoZSBzcGVuZGVyIVxuICogICAgIGNoYWluSWQ6IGAweCR7cGVybWlzc2lvbi5jaGFpbklkPy50b1N0cmluZygxNil9YCxcbiAqICAgICBjYWxsczogc3BlbmRDYWxscyxcbiAqICAgfV0sXG4gKiB9KTtcbiAqXG4gKiAvLyBPciBzZW5kIHRoZSBjYWxscyB1c2luZyBldGhfc2VuZFRyYW5zYWN0aW9uIHRvIHN1Ym1pdCBib3RoIGNhbGxzIGluIGV4YWN0IG9yZGVyXG4gKiBjb25zdCBwcm9taXNlcyA9IHNwZW5kQ2FsbHMubWFwKChjYWxsKSA9PiBwcm92aWRlci5yZXF1ZXN0KHtcbiAqICAgbWV0aG9kOiAnZXRoX3NlbmRUcmFuc2FjdGlvbicsXG4gKiAgIHBhcmFtczogW1xuICogICAgIHtcbiAqICAgICAgIC4uLmNhbGwsXG4gKiAgICAgICBmcm9tOiBwZXJtaXNzaW9uLnBlcm1pc3Npb24uc3BlbmRlciwgLy8gTXVzdCBiZSB0aGUgc3BlbmRlciFcbiAqICAgICB9XG4gKiAgIF1cbiAqIH0pKVxuICpcbiAqIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAqIGBgYFxuICovXG5jb25zdCBwcmVwYXJlU3BlbmRDYWxsRGF0YUZuID0gYXN5bmMgKHBlcm1pc3Npb24sIGFtb3VudCkgPT4ge1xuICAgIGNvbnN0IHsgcmVtYWluaW5nU3BlbmQsIGlzQWN0aXZlIH0gPSBhd2FpdCBnZXRQZXJtaXNzaW9uU3RhdHVzKHBlcm1pc3Npb24pO1xuICAgIGNvbnN0IHNwZW5kQW1vdW50ID0gYW1vdW50ID09PSAnbWF4LXJlbWFpbmluZy1hbGxvd2FuY2UnID8gcmVtYWluaW5nU3BlbmQgOiBhbW91bnQ7XG4gICAgaWYgKHNwZW5kQW1vdW50ID09PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTcGVuZCBhbW91bnQgY2Fubm90IGJlIDAnKTtcbiAgICB9XG4gICAgaWYgKHNwZW5kQW1vdW50ID4gcmVtYWluaW5nU3BlbmQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZW1haW5pbmcgc3BlbmQgYW1vdW50IGlzIGluc3VmZmljaWVudCcpO1xuICAgIH1cbiAgICBsZXQgYXBwcm92ZUNhbGwgPSBudWxsO1xuICAgIGNvbnN0IHNwZW5kUGVybWlzc2lvbkFyZ3MgPSB0b1NwZW5kUGVybWlzc2lvbkFyZ3MocGVybWlzc2lvbik7XG4gICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICBjb25zdCBhcHByb3ZlRGF0YSA9IGVuY29kZUZ1bmN0aW9uRGF0YSh7XG4gICAgICAgICAgICBhYmk6IHNwZW5kUGVybWlzc2lvbk1hbmFnZXJBYmksXG4gICAgICAgICAgICBmdW5jdGlvbk5hbWU6ICdhcHByb3ZlV2l0aFNpZ25hdHVyZScsXG4gICAgICAgICAgICBhcmdzOiBbc3BlbmRQZXJtaXNzaW9uQXJncywgcGVybWlzc2lvbi5zaWduYXR1cmVdLFxuICAgICAgICB9KTtcbiAgICAgICAgYXBwcm92ZUNhbGwgPSB7XG4gICAgICAgICAgICB0bzogc3BlbmRQZXJtaXNzaW9uTWFuYWdlckFkZHJlc3MsXG4gICAgICAgICAgICBkYXRhOiBhcHByb3ZlRGF0YSxcbiAgICAgICAgICAgIHZhbHVlOiAnMHgwJywgLy8gZXhwbGljaXRseSBzZXQgdG8gMHgwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNwZW5kRGF0YSA9IGVuY29kZUZ1bmN0aW9uRGF0YSh7XG4gICAgICAgIGFiaTogc3BlbmRQZXJtaXNzaW9uTWFuYWdlckFiaSxcbiAgICAgICAgZnVuY3Rpb25OYW1lOiAnc3BlbmQnLFxuICAgICAgICBhcmdzOiBbc3BlbmRQZXJtaXNzaW9uQXJncywgc3BlbmRBbW91bnRdLFxuICAgIH0pO1xuICAgIGNvbnN0IHNwZW5kQ2FsbCA9IHtcbiAgICAgICAgdG86IHNwZW5kUGVybWlzc2lvbk1hbmFnZXJBZGRyZXNzLFxuICAgICAgICBkYXRhOiBzcGVuZERhdGEsXG4gICAgICAgIHZhbHVlOiAnMHgwJywgLy8gZXhwbGljaXRseSBzZXQgdG8gMHgwXG4gICAgfTtcbiAgICByZXR1cm4gW2FwcHJvdmVDYWxsLCBzcGVuZENhbGxdLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gbnVsbCk7XG59O1xuZXhwb3J0IGNvbnN0IHByZXBhcmVTcGVuZENhbGxEYXRhID0gd2l0aFRlbGVtZXRyeShwcmVwYXJlU3BlbmRDYWxsRGF0YUZuKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXBhcmVTcGVuZENhbGxEYXRhLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/prepareSpendCallData.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/requestRevoke.js":
/*!**********************************************************************************************************************!*\
  !*** ../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/requestRevoke.js ***!
  \**********************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   requestRevoke: function() { return /* binding */ requestRevoke; }\n/* harmony export */ });\n/* harmony import */ var _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../sign/base-account/utils/constants.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/sign/base-account/utils/constants.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/../../node_modules/viem/_esm/utils/abi/encodeFunctionData.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/../../node_modules/viem/_esm/utils/encoding/toHex.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/utils.js\");\n/* harmony import */ var _withTelemetry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../withTelemetry.js */ \"(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/withTelemetry.js\");\n\n\n\n\n/**\n * Requests user approval to revoke a spend permission.\n *\n * This helper method opens a popup to ask the user to revoke a spend permission.\n * It requires no additional setup from the app side and handles the entire revoke\n * flow by calling the smart contract's revoke function through wallet_sendCalls.\n *\n * If you're looking for a silent revoke that doesn't require user interaction,\n * use `prepareRevokeCallData` instead, which requires extra configuration.\n *\n * @param params - The parameters for the requestRevoke method.\n * @param params.permission - The spend permission object to revoke. Must include a valid chainId.\n * @param params.provider - The provider interface used to make the wallet_sendCalls request.\n *\n * @returns A promise that resolves to the transaction hash as a hex string.\n *\n * @example\n * ```typescript\n * import { requestRevoke } from '@base-org/account/spend-permission';\n *\n * // Revoke a spend permission with user approval\n * try {\n *   const hash = await requestRevoke({ permission, provider });\n *   console.log(`Permission revoked in transaction: ${hash}`);\n * } catch (error) {\n *   console.error('Failed to revoke permission:', error);\n * }\n * ```\n */\nconst requestRevokeFn = async ({ provider, permission, }) => {\n    const { chainId } = permission;\n    if (!chainId) {\n        throw new Error('chainId is required in the spend permission');\n    }\n    const spendPermissionArgs = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.toSpendPermissionArgs)(permission);\n    const data = (0,viem__WEBPACK_IMPORTED_MODULE_1__.encodeFunctionData)({\n        abi: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_2__.spendPermissionManagerAbi,\n        functionName: 'revoke',\n        args: [spendPermissionArgs],\n    });\n    const call = {\n        to: _sign_base_account_utils_constants_js__WEBPACK_IMPORTED_MODULE_2__.spendPermissionManagerAddress,\n        data,\n    };\n    const result = (await provider.request({\n        method: 'wallet_sendCalls',\n        params: [\n            {\n                version: '2.0.0',\n                from: permission.permission.account,\n                chainId: (0,viem__WEBPACK_IMPORTED_MODULE_3__.numberToHex)(chainId),\n                atomicRequired: true,\n                calls: [call],\n            },\n        ],\n    }));\n    return result;\n};\nconst requestRevoke = (0,_withTelemetry_js__WEBPACK_IMPORTED_MODULE_4__.withTelemetry)(requestRevokeFn);\n//# sourceMappingURL=requestRevoke.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvQGJhc2Utb3JnL2FjY291bnQvZGlzdC9pbnRlcmZhY2UvcHVibGljLXV0aWxpdGllcy9zcGVuZC1wZXJtaXNzaW9uL21ldGhvZHMvcmVxdWVzdFJldm9rZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNkg7QUFDdEU7QUFDSDtBQUNBO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxzQkFBc0I7QUFDOUQsdURBQXVELEtBQUs7QUFDNUQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVCQUF1QjtBQUN4RCxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdFQUFxQjtBQUNyRCxpQkFBaUIsd0RBQWtCO0FBQ25DLGFBQWEsNEZBQXlCO0FBQ3RDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxZQUFZLGdHQUE2QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlEQUFXO0FBQ3BDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPLHNCQUFzQixnRUFBYTtBQUMxQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vbm9kZV9tb2R1bGVzL0BiYXNlLW9yZy9hY2NvdW50L2Rpc3QvaW50ZXJmYWNlL3B1YmxpYy11dGlsaXRpZXMvc3BlbmQtcGVybWlzc2lvbi9tZXRob2RzL3JlcXVlc3RSZXZva2UuanM/MzhkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcGVuZFBlcm1pc3Npb25NYW5hZ2VyQWJpLCBzcGVuZFBlcm1pc3Npb25NYW5hZ2VyQWRkcmVzcywgfSBmcm9tICcuLi8uLi8uLi8uLi9zaWduL2Jhc2UtYWNjb3VudC91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgZW5jb2RlRnVuY3Rpb25EYXRhLCBudW1iZXJUb0hleCB9IGZyb20gJ3ZpZW0nO1xuaW1wb3J0IHsgdG9TcGVuZFBlcm1pc3Npb25BcmdzIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHsgd2l0aFRlbGVtZXRyeSB9IGZyb20gJy4uL3dpdGhUZWxlbWV0cnkuanMnO1xuLyoqXG4gKiBSZXF1ZXN0cyB1c2VyIGFwcHJvdmFsIHRvIHJldm9rZSBhIHNwZW5kIHBlcm1pc3Npb24uXG4gKlxuICogVGhpcyBoZWxwZXIgbWV0aG9kIG9wZW5zIGEgcG9wdXAgdG8gYXNrIHRoZSB1c2VyIHRvIHJldm9rZSBhIHNwZW5kIHBlcm1pc3Npb24uXG4gKiBJdCByZXF1aXJlcyBubyBhZGRpdGlvbmFsIHNldHVwIGZyb20gdGhlIGFwcCBzaWRlIGFuZCBoYW5kbGVzIHRoZSBlbnRpcmUgcmV2b2tlXG4gKiBmbG93IGJ5IGNhbGxpbmcgdGhlIHNtYXJ0IGNvbnRyYWN0J3MgcmV2b2tlIGZ1bmN0aW9uIHRocm91Z2ggd2FsbGV0X3NlbmRDYWxscy5cbiAqXG4gKiBJZiB5b3UncmUgbG9va2luZyBmb3IgYSBzaWxlbnQgcmV2b2tlIHRoYXQgZG9lc24ndCByZXF1aXJlIHVzZXIgaW50ZXJhY3Rpb24sXG4gKiB1c2UgYHByZXBhcmVSZXZva2VDYWxsRGF0YWAgaW5zdGVhZCwgd2hpY2ggcmVxdWlyZXMgZXh0cmEgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSByZXF1ZXN0UmV2b2tlIG1ldGhvZC5cbiAqIEBwYXJhbSBwYXJhbXMucGVybWlzc2lvbiAtIFRoZSBzcGVuZCBwZXJtaXNzaW9uIG9iamVjdCB0byByZXZva2UuIE11c3QgaW5jbHVkZSBhIHZhbGlkIGNoYWluSWQuXG4gKiBAcGFyYW0gcGFyYW1zLnByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIGludGVyZmFjZSB1c2VkIHRvIG1ha2UgdGhlIHdhbGxldF9zZW5kQ2FsbHMgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNhY3Rpb24gaGFzaCBhcyBhIGhleCBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IHJlcXVlc3RSZXZva2UgfSBmcm9tICdAYmFzZS1vcmcvYWNjb3VudC9zcGVuZC1wZXJtaXNzaW9uJztcbiAqXG4gKiAvLyBSZXZva2UgYSBzcGVuZCBwZXJtaXNzaW9uIHdpdGggdXNlciBhcHByb3ZhbFxuICogdHJ5IHtcbiAqICAgY29uc3QgaGFzaCA9IGF3YWl0IHJlcXVlc3RSZXZva2UoeyBwZXJtaXNzaW9uLCBwcm92aWRlciB9KTtcbiAqICAgY29uc29sZS5sb2coYFBlcm1pc3Npb24gcmV2b2tlZCBpbiB0cmFuc2FjdGlvbjogJHtoYXNofWApO1xuICogfSBjYXRjaCAoZXJyb3IpIHtcbiAqICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJldm9rZSBwZXJtaXNzaW9uOicsIGVycm9yKTtcbiAqIH1cbiAqIGBgYFxuICovXG5jb25zdCByZXF1ZXN0UmV2b2tlRm4gPSBhc3luYyAoeyBwcm92aWRlciwgcGVybWlzc2lvbiwgfSkgPT4ge1xuICAgIGNvbnN0IHsgY2hhaW5JZCB9ID0gcGVybWlzc2lvbjtcbiAgICBpZiAoIWNoYWluSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjaGFpbklkIGlzIHJlcXVpcmVkIGluIHRoZSBzcGVuZCBwZXJtaXNzaW9uJyk7XG4gICAgfVxuICAgIGNvbnN0IHNwZW5kUGVybWlzc2lvbkFyZ3MgPSB0b1NwZW5kUGVybWlzc2lvbkFyZ3MocGVybWlzc2lvbik7XG4gICAgY29uc3QgZGF0YSA9IGVuY29kZUZ1bmN0aW9uRGF0YSh7XG4gICAgICAgIGFiaTogc3BlbmRQZXJtaXNzaW9uTWFuYWdlckFiaSxcbiAgICAgICAgZnVuY3Rpb25OYW1lOiAncmV2b2tlJyxcbiAgICAgICAgYXJnczogW3NwZW5kUGVybWlzc2lvbkFyZ3NdLFxuICAgIH0pO1xuICAgIGNvbnN0IGNhbGwgPSB7XG4gICAgICAgIHRvOiBzcGVuZFBlcm1pc3Npb25NYW5hZ2VyQWRkcmVzcyxcbiAgICAgICAgZGF0YSxcbiAgICB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgICAgbWV0aG9kOiAnd2FsbGV0X3NlbmRDYWxscycsXG4gICAgICAgIHBhcmFtczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnNpb246ICcyLjAuMCcsXG4gICAgICAgICAgICAgICAgZnJvbTogcGVybWlzc2lvbi5wZXJtaXNzaW9uLmFjY291bnQsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogbnVtYmVyVG9IZXgoY2hhaW5JZCksXG4gICAgICAgICAgICAgICAgYXRvbWljUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FsbHM6IFtjYWxsXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0IGNvbnN0IHJlcXVlc3RSZXZva2UgPSB3aXRoVGVsZW1ldHJ5KHJlcXVlc3RSZXZva2VGbik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0UmV2b2tlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../node_modules/@base-org/account/dist/interface/public-utilities/spend-permission/methods/requestRevoke.js\n"));

/***/ })

}]);